# Depends: bzip2 expat gdbm libffi ncurses openssl readline sqlite util-linux xz zlib

name=python
version=3.11.6
release=1
source="https://www.$name.org/ftp/$name/$version/Python-$version.tar.xz"
build_opt="--without-ensurepip
	--enable-shared
	--with-system-expat
	--with-system-ffi
	--enable-optimizations"

bootstrap_opt="--without-ensurepip"

pre_build() {
	# Remove tests
	rm -rvf Lib/test Lib/*/test Lib/*/tests Lib/*/idle_test
}

post_build() {
	ln -s python3 $PKG/usr/bin/python
}
